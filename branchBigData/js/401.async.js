(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([[401],{"+ego":function(e,t,a){"use strict";a.r(t);var n=a("2Taf"),r=a.n(n),o=a("vZ4D"),c=a.n(o),l=a("l4Ni"),i=a.n(l),s=a("ujKo"),u=a.n(s),m=a("MhPg"),f=a.n(m),p=a("q1tI"),d=a.n(p),h=function(e){return d.a.createElement("div",Object.assign({},e))},g=a("3a4m"),y=a.n(g),v=a("xKgJ");function E(e){function t(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),!0}catch(e){return!1}}return function(){var a,n=u()(e);if(t()){var r=u()(this).constructor;a=Reflect.construct(n,arguments,r)}else a=n.apply(this,arguments);return i()(this,a)}}var b=function(e){f()(a,e);var t=E(a);function a(){return r()(this,a),t.apply(this,arguments)}return c()(a,[{key:"render",value:function(){var e=Object(v["b"])(),t=this.props.location.query,a=t.accessId||"";return"9874588774458774555"===a?d.a.createElement(h,Object.assign({},this.props)):e?d.a.createElement(h,Object.assign({},this.props)):window.location.pathname.indexOf("/sysPlugIn/screen")>-1?(y.a.push("/loginSysPlugIn"),d.a.createElement(d.a.Fragment,null)):(y.a.push("/login"),d.a.createElement(d.a.Fragment,null))}}]),a}(d.a.PureComponent),w=b,N=(a("jCWc"),a("kPKH")),O=(a("14J3"),a("BMrR")),k=a("MuoO"),j=(a("miYZ"),a("tsqr")),C=a("L9EI"),R=a("GaGT"),I=a.n(R),S=(a("wSpz"),function(e,t,a,n){var r,o=arguments.length,c=o<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,a):n;if("object"===typeof Reflect&&"function"===typeof Reflect.decorate)c=Reflect.decorate(e,t,a,n);else for(var l=e.length-1;l>=0;l--)(r=e[l])&&(c=(o<3?r(c):o>3?r(t,a,c):r(t,a))||c);return o>3&&c&&Object.defineProperty(t,a,c),c}),D="https://saas2-aliyun.oss-cn-hangzhou.aliyuncs.com",M=function(e){function t(e){var a;return r()(this,t),a=i()(this,u()(t).call(this,e)),a.state={showModal_Logo:!1,showModal_Menu:!1,btnLoading_Menu:!1,logoChild:void 0,columnChild:void 0,menus:[]},a.searchMenus=function(e){var t=a.props.dispatch;t({type:"portal/listShowColumnBySite",payload:{siteId:e},callback:function(e){1===e.code?a.setState({menus:e.data}):j["a"].info(e.msg)}})},a.errorImg=function(){return function(e){e.target.src=I.a}},a}return f()(t,e),c()(t,[{key:"componentDidMount",value:function(){}},{key:"componentWillReceiveProps",value:function(e){e.site&&e.site!==this.props.site&&this.searchMenus(e.site.id)}},{key:"render",value:function(){var e=this.state.menus,t=this.props.site;return d.a.createElement("div",{className:"portalHeader"},d.a.createElement("div",{className:"content"},d.a.createElement("div",{className:""},d.a.createElement("div",{className:"logo"},d.a.createElement("img",{src:D+(t&&t.logo?t.logo:""),onError:this.errorImg(),alt:"LOGO"})),d.a.createElement("div",{className:"partyName"},t&&t.name?t.name:"")),d.a.createElement("div",{className:"menus"},d.a.createElement(O["a"],{gutter:8},e.map(function(e){return"1000"===e.columnId?d.a.createElement(N["a"],{key:e.url,span:3},d.a.createElement("a",{onClick:Object(C["L"])(C["e"]+C["f"]+"/news/"+t.id)},e.name)):"1001"===e.columnId?d.a.createElement(N["a"],{key:e.url,span:3},d.a.createElement("a",{onClick:Object(C["L"])(C["e"]+C["f"]+"/news/branch/"+t.id+"/default")},e.name)):d.a.createElement(N["a"],{key:e.url,span:3},d.a.createElement("a",{onClick:Object(C["L"])(C["e"]+C["f"]+"/news/list/"+t.id+"/"+e.columnId)},e.name))})))))}}]),t}(d.a.Component);M=S([Object(k["connect"])(function(e){var t=e.portal;e.loading;return{portal:t}})],M);var P=M,F=(a("PUTc"),function(e,t,a,n){var r,o=arguments.length,c=o<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,a):n;if("object"===typeof Reflect&&"function"===typeof Reflect.decorate)c=Reflect.decorate(e,t,a,n);else for(var l=e.length-1;l>=0;l--)(r=e[l])&&(c=(o<3?r(c):o>3?r(t,a,c):r(t,a))||c);return o>3&&c&&Object.defineProperty(t,a,c),c}),x="G",L=function(e){function t(e){var a;return r()(this,t),a=i()(this,u()(t).call(this,e)),a.state={hrefs:[],showModal_Menu:!1},a.searchFirend=function(e){var t=a.props.dispatch;t({type:"portal/listZoneFriend",payload:{siteId:e,templateId:C["z"],zoneId:x},callback:function(e){1===e.code?a.setState({hrefs:e.data}):j["a"].info(e.msg)}})},a}return f()(t,e),c()(t,[{key:"componentWillReceiveProps",value:function(e){e.site!=this.props.site&&this.searchFirend(e.site.id)}},{key:"render",value:function(){var e=this.state.hrefs;return d.a.createElement("div",{className:"portalFooter"},d.a.createElement("div",{className:"content"},d.a.createElement("div",{className:"title"},"\u53cb\u60c5\u94fe\u63a5"),d.a.createElement("div",{className:"hrefs"},d.a.createElement(O["a"],{gutter:8},e.map(function(e){return d.a.createElement(N["a"],{onClick:Object(C["L"])(e.siteUrl),span:3},d.a.createElement("a",{onClick:Object(C["L"])(e.siteUrl)},e.siteName))})))))}}]),t}(d.a.Component);L=F([Object(k["connect"])(function(e){var t=e.portal;e.loading;return{portal:t}})],L);var V=L,z=function(e,t,a,n){var r,o=arguments.length,c=o<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,a):n;if("object"===typeof Reflect&&"function"===typeof Reflect.decorate)c=Reflect.decorate(e,t,a,n);else for(var l=e.length-1;l>=0;l--)(r=e[l])&&(c=(o<3?r(c):o>3?r(t,a,c):r(t,a))||c);return o>3&&c&&Object.defineProperty(t,a,c),c},_=function(e){function t(e){var a;return r()(this,t),a=i()(this,u()(t).call(this,e)),a.state={showModal_SiteName:!1},a}return f()(t,e),c()(t,[{key:"render",value:function(){var e=this.props.site,t=e&&e.companyName?e.companyName:"",a=e&&e.hostUnit?e.hostUnit:"",n=e&&e.phone?e.phone:"";return d.a.createElement("div",{className:"portalFooter"},d.a.createElement("div",{className:"content"},d.a.createElement("div",{className:"copy"},d.a.createElement("span",null,t||""),d.a.createElement("span",null,"\u4e3b\u529e\u5355\u4f4d\uff1a",a||""),d.a.createElement("span",null,"\u8054\u7cfb\u7535\u8bdd\uff1a",n||"")),d.a.createElement("div",{className:"adaptive"},"\u7cfb\u7edf\u63a8\u8350\u4f7f\u7528chrome\u3001safari\u3001IE11\u53ca\u4ee5\u4e0a\u6d4f\u89c8\u5668\uff0c\u6700\u4f73\u663e\u793a\u5206\u8fa9\u7387\u4e3a1440*900\u6216\u66f4\u9ad8\u3002")))}}]),t}(d.a.Component);_=z([Object(k["connect"])(function(e){var t=e.portal,a=e.loading;return{portal:t,btnLoading_Logo:a.effects["portal/updateSite"]}})],_);var G=_,U=(a("2qtc"),a("kLXV")),W=(a("/zsF"),a("PArb")),T=(a("+L6B"),a("2/Rp")),q=(a("5NDa"),a("5rEg")),B=(a("y8nQ"),a("Vl3Y")),A=a("rlhR"),J=a.n(A),K=a("k1Rd"),Z=a.n(K),H=a("VMxI"),Y=a("mNhR");function Q(e){function t(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),!0}catch(e){return!1}}return function(){var a,n=u()(e);if(t()){var r=u()(this).constructor;a=Reflect.construct(n,arguments,r)}else a=n.apply(this,arguments);return i()(this,a)}}var X=function(e,t,a,n){var r,o=arguments.length,c=o<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,a):n;if("object"===typeof Reflect&&"function"===typeof Reflect.decorate)c=Reflect.decorate(e,t,a,n);else for(var l=e.length-1;l>=0;l--)(r=e[l])&&(c=(o<3?r(c):o>3?r(t,a,c):r(t,a))||c);return o>3&&c&&Object.defineProperty(t,a,c),c},$="https://www.aidjyun.com/",ee=$&&"/"!==$.substring($.length-1,$.length)?"/portal":"portal",te=function(e){f()(a,e);var t=Q(a);function a(e){var n;return r()(this,a),n=t.call(this,e),n.state={loginModal:!1,user:void 0,verifyCode:"",verifyCodeId:""},n.doGetVerifyCode=function(){var e=n.props.dispatch;e({type:"portal/getVerifyCode",payload:{},callback:function(e,t){console.log("doGetVerifyCode",e),1===e.code?n.setState({verifyCode:e.data.img,verifyCodeId:e.data.vcode}):j["a"].error(e.msg)}})},n.onLogout=function(){Object(v["a"])(),window.location.reload()},n.toAdmin=function(){window.open($+ee)},n.getForm=function(){var e=n.props.form.getFieldDecorator,t=n.props.submitting,a=d.a.createElement(B["a"],{onSubmit:n.doLogin.bind(J()(n)),className:"loginForm"},d.a.createElement(B["a"].Item,null,e("loginName",{rules:[{required:!0,message:"\u8bf7\u8f93\u5165\u767b\u5f55\u8d26\u53f7!"}]})(d.a.createElement(q["a"],{className:"login-btn",prefix:d.a.createElement(Y["a"],{type:"icon-zhanghao",style:{color:"#FE4D4D",fontSize:"18px",fontWeight:"bold"}}),type:"text",autocomplete:"off",placeholder:"\u767b\u5f55\u540d/\u624b\u673a\u53f7"}))),d.a.createElement(B["a"].Item,null,e("pwd",{rules:[{required:!0,message:"\u8bf7\u8f93\u5165\u5bc6\u7801!"}]})(d.a.createElement(q["a"],{className:"login-btn",prefix:d.a.createElement(Y["a"],{type:"icon-mima",style:{color:"#FE4D4D",fontSize:"18px",fontWeight:"bold"}}),type:"password",autocomplete:"off",placeholder:"\u5bc6\u7801"}))),d.a.createElement(B["a"].Item,null,d.a.createElement(O["a"],null,d.a.createElement(N["a"],{span:12}," ",e("verifyCode",{rules:[{required:!0,message:"\u8bf7\u8f93\u5165\u9a8c\u8bc1\u7801!"}]})(d.a.createElement(q["a"],{className:"login-btn",prefix:d.a.createElement(Y["a"],{style:{color:"#FE4D4D",fontSize:"18px",fontWeight:"bold"}}),type:"text",autocomplete:"off",placeholder:"\u9a8c\u8bc1\u7801"}))),d.a.createElement(N["a"],{span:12},"  ",d.a.createElement("img",{className:"verifyCode_img",src:"data:image/png;base64,".concat(n.state.verifyCode),alt:"",onClick:n.doGetVerifyCode})))),d.a.createElement(B["a"].Item,null,d.a.createElement(T["a"],{loading:t,type:"primary",htmlType:"submit",className:"loginFormButton"},"\u767b\u5f55")));return a},n}return c()(a,[{key:"componentDidMount",value:function(){this.getCurrentUser(),this.doGetVerifyCode(),console.log("\u767b\u5f55componentDidMount")}},{key:"getCurrentUser",value:function(){var e=this,t=this.props.dispatch;t({type:"portal/getCurrentUser",payload:{},callback:function(t){1===t.code?e.setState({user:t.data}):j["a"].info(t.msg)}})}},{key:"showLoginModal",value:function(){var e=this.state.loginModal;this.setState({loginModal:!e})}},{key:"doLogin",value:function(e){var t=this;e.preventDefault(),this.props.form.validateFields(function(e,a){if(!e){var n=t.props.dispatch,r=t.state.verifyCodeId;a.verifyCodeId=r,n({type:"portal/login",payload:a,callback:function(e,a){1===e.code?a.remember?(new H["a"]).set(a.loginName,a.pwd,{maxAge:604800}):a.loginName&&(new H["a"]).remove(a.loginName):(t.doGetVerifyCode(),t.props.form.setFieldsValue({verifyCode:""}),j["a"].error(e.msg))}})}})}},{key:"render",value:function(){var e=this.state,t=e.loginModal,a=e.user;return d.a.createElement("div",{className:"portalTool"},d.a.createElement("div",{className:"content"},a?d.a.createElement(d.a.Fragment,null,d.a.createElement("a",null,a.userName?a.userName:""),d.a.createElement(W["a"],{type:"vertical"}),d.a.createElement("a",{onClick:this.toAdmin},"\u7ba1\u7406\u540e\u53f0"),d.a.createElement(W["a"],{type:"vertical"}),d.a.createElement("a",{onClick:this.onLogout},"\u6ce8\u9500")):d.a.createElement(d.a.Fragment,null,d.a.createElement("a",{onClick:this.showLoginModal.bind(this)},"\u767b\u5f55"))),d.a.createElement(U["a"],{className:"loginModal userloginForm",maskClosable:!0,title:"\u7528\u6237\u767b\u5f55",visible:t,onCancel:this.showLoginModal.bind(this),footer:null},d.a.createElement("div",{className:"login-main"},d.a.createElement("img",{className:"login_left_img",src:Z.a,alt:""}),d.a.createElement("div",{className:"login_right"},d.a.createElement("div",{className:"grayTopTxt"}),d.a.createElement("div",{className:"login_title"},"AI\u515a\u5efa\u4e91\u767b\u5f55"),this.getForm()))))}}]),a}(d.a.Component);te=X([Object(k["connect"])(function(e){var t=e.portal,a=e.loading;return{portal:t,submitting:a.effects["portal/login"]}})],te);var ae=B["a"].create()(te),ne=function(e,t,a,n){var r,o=arguments.length,c=o<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,a):n;if("object"===typeof Reflect&&"function"===typeof Reflect.decorate)c=Reflect.decorate(e,t,a,n);else for(var l=e.length-1;l>=0;l--)(r=e[l])&&(c=(o<3?r(c):o>3?r(t,a,c):r(t,a))||c);return o>3&&c&&Object.defineProperty(t,a,c),c},re=function(e){function t(e){var a;return r()(this,t),a=i()(this,u()(t).call(this,e)),a.state={siteId:""},a.getSiteBySiteId=function(e){var t=a.props.dispatch;t({type:"portal/findSiteById",payload:{id:e},callback:function(e){1===e.code&&a.setState({site:e.data})}})},a}return f()(t,e),c()(t,[{key:"componentDidMount",value:function(){var e=this.props.location.pathname,t=e.split("/"),a="";a=5===t.length?t[3]:t[2],this.setState({siteId:a}),this.getSiteBySiteId(a)}},{key:"render",value:function(){var e=this.props,t=e.children,a=e.history,n=e.location,r=e.match,o=e.route,c=this.state.site,l={children:t,history:a,location:n,match:r,route:o},i={xxl:{offset:3,span:18},xl:{offset:3,span:18},lg:{offset:0,span:24}};return d.a.createElement(d.a.Fragment,null,d.a.createElement("div",{className:"newsDetail"},d.a.createElement(O["a"],{className:"portal tool"},d.a.createElement(N["a"],Object.assign({},i),d.a.createElement(ae,null))),d.a.createElement(O["a"],{className:"portal"},d.a.createElement(N["a"],Object.assign({},i),d.a.createElement(P,{site:c}))),d.a.createElement("div",Object.assign({className:"body"},l)),d.a.createElement(O["a"],{className:"portal footer"},d.a.createElement(N["a"],Object.assign({},i),d.a.createElement(V,{site:c})),d.a.createElement(N["a"],{span:24},d.a.createElement("hr",null)),d.a.createElement(N["a"],Object.assign({},i),d.a.createElement(G,{site:c})))))}}]),t}(d.a.Component);re=ne([Object(k["connect"])(function(e){var t=e.news,a=e.portal;e.loading;return{news:t,portal:a}})],re);var oe=re,ce=function(e){function t(){return r()(this,t),i()(this,u()(t).apply(this,arguments))}return f()(t,e),c()(t,[{key:"render",value:function(){Object(v["b"])();return d.a.createElement(h,Object.assign({},this.props))}}]),t}(d.a.PureComponent),le=ce;function ie(e){function t(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),!0}catch(e){return!1}}return function(){var a,n=u()(e);if(t()){var r=u()(this).constructor;a=Reflect.construct(n,arguments,r)}else a=n.apply(this,arguments);return i()(this,a)}}var se=function(e){f()(a,e);var t=ie(a);function a(e){return r()(this,a),t.call(this,e)}return c()(a,[{key:"render",value:function(){var e=this.props,t=e.children,a=e.history,n=e.location,r=e.match,o=e.route,c={children:t,history:a,location:n,match:r,route:o},l=["/dataV/home","/dataV/homeWarn","/dataV/homeWorkFirst","/dataV/homeWorkSecond","/dataV/manage","/dataV/test","/login","/loginSysPlugIn","/entry/activation","/portal","/common","/common/docReader","/common/docReaderMobile","/register","/dingtalk","/idaas","/webview/knowledge","/partybuilding","/platform/show","/zwdingtalk"];return n.pathname.indexOf("/news/")>-1?d.a.createElement(oe,Object.assign({},c)):n.pathname.indexOf("/dataV/")>-1?d.a.createElement(le,Object.assign({},c)):l.some(function(e){return"".concat(e)===n.pathname})?d.a.createElement(h,Object.assign({},c)):d.a.createElement(w,Object.assign({},c))}}]),a}(d.a.PureComponent);t["default"]=se},PUTc:function(e,t,a){},wSpz:function(e,t,a){}}]);